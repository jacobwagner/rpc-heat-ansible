---
# This playbook installs Rackspace Private Cloud v13.1
- name: Install Packages
  hosts: all
  tags:
    - prepare
    - packages
  roles:
    - packages

- name: Setup Host Files
  hosts: all
  tags:
    - prepare
    - hosts
  roles:
    - hosts

- name: Setup Cinder Volume Groups
  hosts: block
  tags:
    - prepare
    - volumes
  roles:
    - volumes

- name: Setup Swift Mount Points
  hosts: object
  tags:
    - prepare
    - mounts
  roles:
    - mounts

- name: Setup Networking
  hosts: openstack
  tags:
    - prepare
    - networking
  roles:
    - networking

- name: Setup Rackspace Private Cloud Configuration
  hosts: deployment
  tags:
    - prepare
    - configure-rpc
  roles:
    - configure-rpc

- name: Reboot Cluster
  hosts: openstack
  tags:
    - reboot
  roles:
    - reboot
